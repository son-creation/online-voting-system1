<!DOCTYPE html>
<html>
<head>
  <title>Football Fan Poll</title>
  <meta charset="UTF-8">
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 50px;
    }
    button {
      padding: 10px 20px;
      margin-top: 10px;
      font-size: 16px;
    }
  </style>
</head>
<body>

<h1>âš½ Football Fan Poll</h1>
<h3>Who has more fans?</h3>

<form id="pollForm">
  <input type="radio" name="player" value="Ronaldo" required> Cristiano Ronaldo<br><br>
  <input type="radio" name="player" value="Messi"> Lionel Messi<br><br>
  <input type="radio" name="player" value="Neymar"> Neymar Jr<br><br>

  <button type="submit">Vote</button>
</form>

<p id="message"></p>

<h3>ðŸ“Š Live Results</h3>
<p>Ronaldo: <span id="ronaldo">0</span></p>
<p>Messi: <span id="messi">0</span></p>
<p>Neymar: <span id="neymar">0</span></p>

<script>
  const form = document.getElementById("pollForm");
  const message = document.getElementById("message");

  // Show stored results
  function updateResults() {
    document.getElementById("ronaldo").innerText =
      localStorage.getItem("Ronaldo") || 0;
    document.getElementById("messi").innerText =
      localStorage.getItem("Messi") || 0;
    document.getElementById("neymar").innerText =
      localStorage.getItem("Neymar") || 0;
  }

  updateResults();

  // Prevent multiple voting
  if (localStorage.getItem("fanVoted") === "yes") {
    form.style.display = "none";
    message.innerText = "You have already voted ðŸ™Œ";
  }

  form.addEventListener("submit", function (event) {
    event.preventDefault();

    const selected = document.querySelector('input[name="player"]:checked');
    if (!selected) return;

    const player = selected.value;

    let count = localStorage.getItem(player);
    count = count ? Number(count) + 1 : 1;
    localStorage.setItem(player, count);

    localStorage.setItem("fanVoted", "yes");

    message.innerText = "Thanks for voting! âš½ðŸ”¥";
    form.style.display = "none";

    updateResults();
  });
</script>

</body>
  </html>
